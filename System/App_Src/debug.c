/**
  ***************************************************************************************************************************************
  * @file     debug.c
  * @owner    SimonBat
  * @version  v0.0.1
  * @date     2021.11.11
  * @update   2021.11.11
  * @brief    dragonfly_joystick v1.0
  ***************************************************************************************************************************************
  * @attention
  *
  * (Where to use)
  *
  ***************************************************************************************************************************************
  */

#include <stdio.h>
#include <string.h>
#include "debug.h"
#include "bsp.h"

static debug_ts H_DEBUG;

/**
  ***************************************************************************************************************************************
  * @brief  Debug driver initialization
  * @param  None
  * @retval None
  ***************************************************************************************************************************************
  */
void DEBUG_Init(void)
{
	if(UART_Init(&H_DEBUG.hUart,DEBUG_PORT,DEBUG_BAUDRATE)){H_DEBUG.initFlag=1U;}
    else{BSP_Error_Handler();}
}

/**
  ***************************************************************************************************************************************
  * @brief  Debug send char
  * @param  Char (uint8_t)
  * @retval None
  ***************************************************************************************************************************************
  */
void DEBUG_Send_Char(uint8_t _char)
{
    UART_Send_Buffer(&H_DEBUG.hUart,&_char,1U);
}

/**
  ***************************************************************************************************************************************
  * @brief  Debug send message
  * @param  Message (const char *)
  * @retval None
  ***************************************************************************************************************************************
  */
void DEBUG_Send_Message(const char *_string)
{
	UART_Send_String(&H_DEBUG.hUart,_string);
}

/**
  ***************************************************************************************************************************************
  * @brief  Debug UART IRQ handler
  * @param  None
  * @retval None
  ***************************************************************************************************************************************
  */
void DEBUG_PORT_IRQ_Handler(void)
{
	UART_IRQ_Handler(&H_DEBUG.hUart);
}
